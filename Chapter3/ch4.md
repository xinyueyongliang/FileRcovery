# 第4节：EXT3文件系统恢复文件

​           Ubuntu下文件系统恢复的原理是通过文件系统的 inode 值来获取文件系统信息。在ext3和ext4文件系统中，每个文件都是通过 inode 来描述其数据存放的具体位置，当文件被删除以后，inode的数据指针部分被清零，文件目录区没有太多变化。文件的读写都是通过 inode 来实现，当 inode 数据指针被清零以后，即便文件内容还在，也没有办法把文件内容组合出来。当 ext3 和 ext4 文件系统中的元数据 metadata 发生变化时，相应的元数据 metadata 在日志文件会有一份拷贝。比如一个文件被删除了，它的inode信息会在日志文件中先保存一份，然后把要删除文件 inode 相关信息清零。这个日志文件是循环使用的，当操作过多时，删除的文件的 inode 日志记录会被新的数据替换，这就彻底丧失了根据 inode 找回数据的机会。